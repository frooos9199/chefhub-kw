# الصلاحيات والأدوار (Roles & Permissions)

هذا المستند يشرح بشكل احترافي ما الذي يستطيع كل دور فعله داخل النظام.

## 1) العميل (Customer)
**الهدف:** تصفح الشيفات والمنتجات والطلب والدفع.

**المزايا الأساسية**
- تصفح الشيفات والمنتجات
- البحث والتصفية (حسب التصنيف/المحافظة/الاختصاص)
- إضافة منتجات للسلة وإكمال الطلب
- متابعة حالة الطلب (نجاح الطلب/الفاتورة حسب تدفق المشروع)

**ملاحظات**
- تجربة العميل تعتمد على توافر منتجات فعّالة (isActive/isAvailable) من الشيف.

## 2) الشيف (Chef)
**الهدف:** إدارة الأطباق والطلبات والملف الشخصي.

**بعد تسجيل الدخول يمكنه:**
- لوحة الشيف:
  - رؤية الطلبات الجديدة/الحالية
  - تحديث حالة الطلب حسب النظام (قبول/تحضير/جاهز/تم التسليم… بحسب التدفق المعتمد)
- إدارة الأطباق (Dishes):
  - إضافة طبق جديد
  - تعديل طبق موجود
  - التحكم في التوفر (isAvailable) وتفعيل/تعطيل العرض (isActive)
  - رفع صور للطبق (حسب تفعيل Storage)
- إعدادات الشيف:
  - تحديث بيانات الحساب والملف
  - إدارة مناطق التوصيل والرسوم
  - تفضيلات الإشعارات (Email/WhatsApp/In-app)

**ملاحظات مهمة للشركة**
- الشيف قد لا يظهر للعامة حتى يتم اعتماده من الأدمن (status).
- يمكن إخفاء الشيف عن الجمهور عند `isActive=false`.

## 3) الأدمن (Admin)
**الهدف:** التحكم الكامل بالمحتوى والمستخدمين والعمليات.

**صلاحيات أساسية**
- لوحة الإدارة:
  - نظرة عامة (Dashboard)
  - تقارير ومتابعة الأداء
- إدارة الشيفات:
  - مراجعة طلبات التسجيل
  - اعتماد الشيف (Approved) أو رفضه أو إيقافه
  - إدارة ظهور الشيف في المنصة
- إدارة الطلبات:
  - مراقبة الطلبات والمشاكل التشغيلية
- إدارة البانرات/المحتوى:
  - تشغيل/إيقاف العروض (Banners)
- إعدادات النظام:
  - إعدادات عامة حسب المشروع

## 4) ملاحظات تقنية (مختصرة)
- حالة الشيف تعتمد على حقل `status` في Firestore.
- النظام يدعم حالتين شائعتين في البيانات: `approved` و(في بعض البيانات القديمة) `active`.
- إخفاء الشيف عن الواجهة يتم فقط عندما `isActive === false`.
